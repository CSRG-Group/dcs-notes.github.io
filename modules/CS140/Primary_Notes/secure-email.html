<!DOCTYPE html>
<html lang=" en-US">

<head>

    
    <meta charset="UTF-8"><!-- Include tocNAV javascript -->
    <script type="text/javascript" src="/assets/js/tocNav.js"></script>
    
    <!-- seo used to be here -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style"
        type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link id="mainCS" rel="stylesheet" href="/assets/css/style.css">
    <title>notes Secure Email</title>
</head>

<body>
    <div id="mainGrid" class="container">
        <header style="padding:10px;" class="page-header notes-header" role="banner">
            
            
            <h1 class="project-name">Secure Email</h1>
        </header>
        <div title="Table of Contents" class="buttonCol" onclick="toggleNav()">
            <div class="navArrow">
                <i></i>
            </div>
        </div>
        <div class="navBox">
            <div id="sidenav" class="sideNav closedNav">
                <h2 style="margin-left: 10px;">Table of Contents</h2><ul class="table-of-contents"><li><a href="#how-email-is-delivered">How email is delivered</a></li><li><a href="#general-security-issues-in-emails">General Security Issues in Emails</a><ul><li><a href="#email-servers">Email servers</a></li></ul></li><li><a href="#solutions-to-problems">Solutions to problems</a><ul><li><a href="#spam">Spam</a></li><li><a href="#payloads">Payloads</a></li><li><a href="#spoofing">Spoofing</a></li><li><a href="#interception">Interception</a><ul><li><a href="#pgp-encryption">PGP Encryption</a></li></ul></li></ul></li></ul>
</div>
        </div>
        
        <div class="contents">
            <main id="content" class="main-content" role="main">
                <div class="partNav">












    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <a href="part6.html" title="part6.html">üëàPrev</a><a href="./" title="Primary Notes Home">üè°Primary Notes</a><a href="part7.html" title="part7.html">Nextüëâ</a>
    
    
    
    
    
    



</div>
                <!-- Main Content of markdown or sub-layouts-->
                <blockquote>
  <p>According to the <strong>Revision Lecture</strong>, the main concepts to know for the exams in this section is <strong><a href="#interception">PGP encryption</a></strong>.</p>
</blockquote>

<p><strong><em>Some terminology.</em></strong></p>

<ul>
  <li><strong>Email domain:</strong> Warwick domain, cambridge domain, google domain. e.g. ‚Äú@warwick.ac.uk‚Äù</li>
  <li><strong>Email client</strong>: Thunderbird, Outlook etc.</li>
  <li><strong>Email Servers:</strong>
    <ul>
      <li>SMTP ‚Äì responsible for sending email to their 	destinations</li>
      <li>IMAP or PoP3 servers ‚Äì responsible for retrieving emails sent by the sender.</li>
    </ul>
  </li>
</ul>

<h2 id="how-email-is-delivered">How email is delivered</h2>

<ol>
  <li>User begins by using the <strong>email client</strong>, which connects to the SMTP server and sends the server the email address of the recipient, the name of the sender, and the body of the message.
    <ul>
      <li>SMTP breaks down the recipient‚Äôs email into 2 parts: the name (before the @) and the domain (after the @)</li>
    </ul>
  </li>
  <li>If the domain of recipient and sender are <strong>identical</strong>, the SMTP server hands the message to the PoP3 or IMAP server for that particular domain.</li>
  <li>Otherwise, SMTP communicates with the Domain Name Server (DNS) for the IP address of the SMTP server in the other domain.</li>
  <li>The SMTP server at the senders side sends the email message to the SMTP server at the recipient‚Äôs end, which then hands the message to the PoP3 server for the recipient‚Äôs domain.</li>
</ol>

<blockquote>
  <p>If SMTP server cannot connect to the other SMTP server, the message goes into a <strong>sendmail queue</strong>.</p>

  <ul>
    <li>The server will periodically try to resend messages in the queue.</li>
    <li>After several failures, the server will give up and return the mail undelivered.</li>
  </ul>
</blockquote>

<p>The PoP3 server for each domain maintains a list of email accounts and a text file for each account.</p>

<ul>
  <li>When the server receives an email addressed to someone, it formats the email and appends the formatted email to the account‚Äôs text file.</li>
  <li>When the recipient checks their email with the email client, the email client
    <ul>
      <li>queries the PoP3 server to send a copy of their text file and tells the server to erase and reset the text file.</li>
      <li>This copy is saved on their local message and the text file is parsed into the separate messages.</li>
    </ul>
  </li>
</ul>

<h2 id="general-security-issues-in-emails">General Security Issues in Emails</h2>

<ol>
  <li>Email is free (encourages spam, DoS attacks)</li>
  <li>Email can carry payloads (viruses)</li>
  <li>Email is easy to spoof (if there is no authentication)</li>
</ol>

<h3 id="email-servers">Email servers</h3>

<p>Email servers contain email information of <strong>all</strong> email accounts ‚Äì these will be known to the attacker if the server is compromised.</p>

<p>Additionally, there is no <strong>guarantee for delivery</strong> if SMTP cannot connect to SMTP at receiver‚Äôs end. (Access in CIA)</p>

<p>People have <strong>poor passwords</strong>.</p>

<p>Emails can also be <strong>intercepted</strong> on insecure networks (packet sniffers)</p>

<ul>
  <li>Poor key-generation (if email is not correctly encrypted) ‚Äì this compromises email confidentiality.</li>
</ul>

<p><img src=".\secure-email.assets\emailServers.png" alt="emailServers" style="zoom:67%;" /></p>

<h2 id="solutions-to-problems">Solutions to problems</h2>

<h3 id="spam">Spam</h3>

<p>Spams can be handled with a spam filter (SpamAssassin). Spam filters can define a large set of rules</p>

<ul>
  <li>The format of sender‚Äôs email account</li>
  <li>Whether the body of the email contains a certain pattern of words.</li>
</ul>

<p>These rules are matched against the email and the email is tested for each rule ‚Äì giving a score. If this score <strong>exceeds a threshold</strong>, the email will be classified as a spam.</p>

<h3 id="payloads">Payloads</h3>

<p>Can be tackled with anti-virus software.</p>

<p>Spam filters can also help with this, e.g. if the email has suspicious attachments it can be classified as spam.</p>

<p>Be careful when opening emails is the best way to prevent this.</p>

<h3 id="spoofing">Spoofing</h3>

<p>Originator and apparent originators of an email are different.</p>

<ul>
  <li>An originator, e.g. some student can pose as a module organiser (apparent originator).</li>
</ul>

<p>Spam filters may help with spoofing , as this will examine the header of mails to check if the originator and apparent originator matches.</p>

<p>Otherwise, we mainly use Digital Signatures to tackle spoofing.</p>

<h3 id="interception">Interception</h3>

<p>A straightforward solution</p>

<ul>
  <li>To send email, encrypt with the recipient‚Äôs public key</li>
  <li>Recipient can then decrypt using their private key.</li>
</ul>

<p>However we do not use this method because it is slow to encrypt the whole email using public key encryption.</p>

<blockquote>
  <p>A <strong>faster solution</strong> is to use a shared secret key to encrypt the message. This is done with a session key.</p>

  <ul>
    <li>Session key is used to encrypt the email message.</li>
    <li>Public key (RSA) is used to encrypt only the session key ‚Äì hence faster.</li>
    <li>The encrypted key and the email message is sent to the recipient as an encrypted message.</li>
    <li>Recipient‚Äôs private key is used to decrypt the secret key which is then used to decrypt the message.</li>
  </ul>
</blockquote>

<p><strong>Products that provide this solution.</strong></p>

<ul>
  <li>PGP (Pretty Good Privacy) ‚Äì paid</li>
  <li>GnuPG (Gnu Privacy Guard) ‚Äì open source implementation of OpenPGP</li>
  <li>Windows version Gpg4Win</li>
</ul>

<h4 id="pgp-encryption">PGP Encryption</h4>

<p>Below is a diagram depicting how PGP Encryption works.</p>

<figure>
  <figcaption>PGP Encryption Diagram, <a href="https://en.wikipedia.org/wiki/File:PGP_diagram.svg">Wikimedia Commons</a></figcaption>
  <img src="./secure-email.assets/PGP_diagram.svg" />
</figure>



                <footer class="site-footer">

                    
                    <span class="site-footer-owner"><a href="https://github.com/CSRG-Group/dcs-notes.github.io">dcs-notes.github.io</a> is maintained by <a href="https://github.com/CSRG-Group">CSRG-Group</a>.</span>
                    
                </footer>
            </main>
        </div>
    </div>
</body>

</html>
</html>